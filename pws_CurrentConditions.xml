<?xml version="1.0" encoding="UTF-8" ?>
<Module>
	<ModulePrefs title="__UP_title__" 
							 description="This gadget provides you with your Personal Weather Station updated data from wunderground.com." 
							 author="Jordi Morell"
							 author_email="pwsgadgets.feedback@gmail.com" 
							 author_location="Palma de Mallorca, Spain"
							 thumbnail="http://icons.wunderground.com/graphics/logos/full_4c_gradient.jpg"
							 screenshot="http://icons.wunderground.com/graphics/logos/full_4c_gradient.jpg"
							 title_url="http://pwsgadgets.googlecode.com" 
							 directory_title="Weather underground PWS current conditions." 
							 height="50"
							 scaling="true"
							 singleton="false">
		<Require feature="dynamic-height"/>
		<Require feature="analytics"/>
		<Require feature="tabs" /> 
	</ModulePrefs>
	<UserPref name="wnd_id" display_name="Wunderground station id" required="true"/>
	<UserPref name="wnd_units" datatype="enum" display_name="Units" default_value="metric" required="true">
		<EnumValue value="metric" display_value="Metric" />
		<EnumValue value="english" display_value="English" />
		<EnumValue value="both" display_value="Both" />
	</UserPref>
	<UserPref name="update_timer" datatype="enum" display_name="Update every: " default_value="30000" required="true">
		<EnumValue value="30000" display_value="30 seconds" />
		<EnumValue value="60000" display_value="1 minute" />
		<EnumValue value="120000" display_value="2 minutes" />
		<EnumValue value="180000" display_value="3 minutes" />
		<EnumValue value="240000" display_value="4 minutes" />
		<EnumValue value="300000" display_value="5 minutes" />
	</UserPref>
	<UserPref name="show_temperature" display_name="Temperature:" datatype="bool" default_value="true"/>
	<UserPref name="show_dewpoint" display_name="Dew point:" datatype="bool" default_value="true"/>
	<UserPref name="show_humidity" display_name="Relative humidity:" datatype="bool" default_value="true"/>
	<UserPref name="show_wind" display_name="Wind speed:" datatype="bool" default_value="true"/>
	<UserPref name="show_windgust" display_name="Wind gust:" datatype="bool" default_value="true"/>
	<UserPref name="show_winddirection" display_name="Wind direction:" datatype="bool" default_value="true"/>
	<UserPref name="show_pressure" display_name="Pressure:" datatype="bool" default_value="true"/>
	<UserPref name="show_1hrain" display_name="1 hour rain:" datatype="bool" default_value="true"/>
	<UserPref name="show_todayrain" display_name="Today rain:" datatype="bool" default_value="true"/>
	<UserPref name="title" display_name="Title" required="true" default_value="Current conditions"/>
	<Content type="html">
		<![CDATA[
			<div id="current__MODULE_ID__" style="font-size:10pt; padding:5px; color: black;">Fetching xml...</div>
			<div id="extreme__MODULE_ID__" style="font-size:10pt; padding:5px; color: black;">Fetching xml...</div>
			<div id="help__MODULE_ID__" style="font-size:10pt; padding:5px; color: gray; text-align: right;">Help</div>
			<script type="text/javascript">
			  // version variable
				var version = "v2.0.0";
				// Current conditions tab id
				currentTabId = "current__MODULE_ID__";
				// Extreme values tab id
				extremeTabId = "extreme__MODULE_ID__";
				// Help tab id
				helpTabId = "help__MODULE_ID__";

				// Initialize tabs.
				var tabs = new _IG_Tabs(__MODULE_ID__, "Current conditions");

				// Track this gadget using Google Analytics specifiying the wunder id used.
				//_IG_Analytics("UA-3007781-2", "/CurrentConditions/" + new _IG_Prefs(__MODULE_ID__).getString("wnd_id"));
			
				function createTabs() {
					// Add the gadget tabs.
					tabs.addTab("Current conditions", currentTabId,displayCurrentTab);
					tabs.addTab("Extreme values", extremeTabId, displayExtremeTab);
					tabs.addTab("Help", helpTabId, displayHelpTab);
				}
				
				function displayCurrentTab(tabId) {
					_gel(tabId).innerHTML = "Current " + version + tabId;
				}

				function displayExtremeTab(tabId) {
					_gel(tabId).innerHTML = "Extreme " + version + tabId;
				}

				function displayHelpTab(tabId) {
					_gel(tabId).innerHTML = "Help " + version + tabId;
				}

				_IG_RegisterOnloadHandler(createTabs);
			</script>
		]]> 
	</Content> 
</Module>